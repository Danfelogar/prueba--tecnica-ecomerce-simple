(this["webpackJsonppureba-de-desarrollo"]=this["webpackJsonppureba-de-desarrollo"]||[]).push([[0],{87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),r=a(22),n=a.n(r),i=a(10),l=a(14),o=a(42),d=a(3),u="[auth] entering the account",j="[auth] new account registration",p="[auth] log out of account",m="[product] display products in a list",b="[product] adding product to basket",h="[product] plus  amount of single product",O="[product] less amount of single product",x="[product] delete product to basket",f={username:[],key:[],checking:!1,register:!1},g=a(25),v={list:[],basketProducts:[]},N=Object(l.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(d.a)(Object(d.a)({},e),{},{username:t.payload.username,key:t.payload.key,checking:t.payload.checking});case j:return Object(d.a)(Object(d.a)({},e),{},{register:t.payload});case p:return{checking:!1};default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),{},{list:t.payload});case b:return Object(d.a)(Object(d.a)({},e),{},{basketProducts:[].concat(Object(g.a)(e.basketProducts),[t.payload])});case h:return e.basketProducts.find((function(e){return e.id===t.payload})).amount+=1,Object(d.a)(Object(d.a)({},e),{},{basketProducts:Object(g.a)(e.basketProducts)});case O:return e.basketProducts.find((function(e){return e.id===t.payload})).amount-=1,Object(d.a)(Object(d.a)({},e),{},{basketProducts:Object(g.a)(e.basketProducts)});case x:return Object(d.a)(Object(d.a)({},e),{},{basketProducts:e.basketProducts.filter((function(e){return e.id!==t.id}))});default:return e}}}),y="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,k=Object(l.d)(N,y(Object(l.a)(o.a))),_=a(9),w=a(2),C=a(19),P=a(11),S=a.n(P),G=a(17),U=a(18),I=a.n(U),L=a(43),E=a.n(L).a.create({baseURL:"http://78.46.69.39:8007"}),D=function(){return{getRegisterUser:function(e,t,a,s,c,r,n){return E({method:"POST",url:"/rest-auth/registration/",data:{username:e,email:t,first_name:a,last_name:s,password1:c,password2:r,group:n}})},getLoginUser:function(e,t,a){return E({method:"POST",url:"/apis/custom/login/",data:{username:e,email:t,password:a}})},getProductList:function(){return E({method:"GET",url:"/api-referencias/referenciassearch/"})}}},R=D(),T=R.getLoginUser,A=R.getRegisterUser,B=function(e,t,a,s,c,r,n){return function(){var i=Object(G.a)(S.a.mark((function i(l){var o,d,u;return S.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,A(e,t,a,s,c,r,n);case 3:o=i.sent,console.info(o),l({type:j,payload:!0}),i.next=14;break;case 8:i.prev=8,i.t0=i.catch(0),d=i.t0.response.data,u=Object.values(d),console.log(u[0].toString()),I.a.fire("Error",u[0].toString(),"error");case 14:case"end":return i.stop()}}),i,null,[[0,8]])})));return function(e){return i.apply(this,arguments)}}()},q=function(){return function(e){localStorage.removeItem("username"),localStorage.removeItem("key"),localStorage.removeItem("checking"),e({type:j,payload:!1})}},F=function(e,t,a){return function(){var s=Object(G.a)(S.a.mark((function s(c){var r,n,i,l,o;return S.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,r=!0,s.next=4,T(e,t,a);case 4:n=s.sent,console.log(n),i=n.data.key,localStorage.setItem("username",e),localStorage.setItem("key",i),localStorage.setItem("checking",r),c({type:u,payload:{username:e,checking:r,key:i}}),s.next=19;break;case 13:s.prev=13,s.t0=s.catch(0),l=s.t0.response.data,o=Object.values(l),console.log(o[0].toString()),I.a.fire("Error",o[0].toString(),"error");case 19:case"end":return s.stop()}}),s,null,[[0,13]])})));return function(e){return s.apply(this,arguments)}}()},J=function(){return function(e){console.log("hola bro"),e({type:u,payload:{username:localStorage.getItem("username"),checking:localStorage.getItem("checking"),key:localStorage.getItem("key")}})}},M=a(23),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.useState)(e),a=Object(C.a)(t,2),c=a[0],r=a[1],n=function(){r(e)},i=function(e){var t=e.target;r(Object(d.a)(Object(d.a)({},c),{},Object(M.a)({},t.name,t.value)))};return[c,i,n]},Q=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})),a=(t.checking,t.register),c=Object(w.g)(),r={actGetRegisterUser:B,actClearRegisterUser:q,actGetLoginUser:F,actStateOfLoginUser:J},n=r.actGetLoginUser,l=r.actClearRegisterUser,o=r.actGetRegisterUser,d=r.actStateOfLoginUser,u=X({username:"",email:"",first_name:"",last_name:"",password1:"",password2:"",group:""}),j=Object(C.a)(u,2),p=j[0],m=j[1],b=p.username,h=p.email,O=p.first_name,x=p.last_name,f=p.password1,g=p.password2,v=p.group,N=X({userName:"",lEmail:"",password:""}),y=Object(C.a)(N,2),k=y[0],_=y[1],P=k.userName,S=k.lEmail,G=k.password;Object(s.useEffect)((function(){a&&c.push("/auth/login")}),[a]);return Object(s.useEffect)((function(){e(d())}),[]),{username:b,email:h,first_name:O,last_name:x,password1:f,password2:g,group:v,handleInputChangeRegister:m,handleGetRegisterUser:function(t,a,s,c,r,n,i,l){l.preventDefault(),e(o(t,a,s,c,r,n,i))},userName:P,lEmail:S,password:G,handleInputChangeLogin:_,handleGetLoginUser:function(t,a,s,r){r.preventDefault(),e(n(t,a,s)),c.push("/product/list")},handleClearRegisterUser:function(){e(l()),console.log("hola me reinicio en el estado de register"),c.push("/auth/login"),console.log(localStorage.length)}}},V=a(0),Y=function(){var e=Q(),t=e.userName,a=e.lEmail,s=e.password,c=e.handleInputChangeLogin,r=e.handleGetLoginUser,n=e.handleClearRegisterUser;return Object(V.jsx)("div",{className:"wrap-main",children:Object(V.jsx)("div",{className:"auth_main",children:Object(V.jsxs)("div",{className:"form_wrapper",children:[Object(V.jsxs)("div",{className:"form_container",children:[Object(V.jsxs)("div",{className:"title_container",children:[Object(V.jsx)("h2",{children:"Bienvenido Querido usuario!"}),Object(V.jsx)("h1",{children:"Te invitamos a entrar "})]}),Object(V.jsx)("div",{className:"row clearfix",children:Object(V.jsx)("div",{className:"",children:Object(V.jsxs)("form",{children:[Object(V.jsxs)("div",{className:"input_field",children:[" ",Object(V.jsx)("span",{children:Object(V.jsx)("i",{"aria-hidden":"true",className:"fa fa-user"})}),Object(V.jsx)("input",{type:"text",name:"userName",onChange:c,value:t,placeholder:"Nombre De Usuario"})]}),Object(V.jsxs)("div",{className:"input_field",children:[Object(V.jsx)("span",{children:Object(V.jsx)("i",{className:"fas fa-envelope",style:{display:"flex",flexDirection:"column",marginTop:"35px"}})}),Object(V.jsx)("input",{type:"email",name:"lEmail",onChange:c,value:a,placeholder:"Email",required:!0})]}),Object(V.jsxs)("div",{className:"input_field",children:[" ",Object(V.jsx)("span",{children:Object(V.jsx)("i",{"aria-hidden":"true",className:"fa fa-lock",style:{display:"flex",flexDirection:"column",marginTop:"70px"}})}),Object(V.jsx)("input",{type:"password",name:"password",onChange:c,value:s,placeholder:"Contrase\xf1a",required:!0})]}),Object(V.jsx)("input",{className:"button",type:"submit",value:"Ingresar",onClick:function(e){return r(t,a,s,e)}})]})})})]}),Object(V.jsxs)("p",{className:"credit",children:["\xbf No tienes una cuenta ? ",Object(V.jsx)(_.b,{to:"/auth/register",onClick:n,children:"Create una aqui"})]})]})})})},z=function(){var e=Q(),t=e.username,a=e.email,s=e.first_name,c=e.last_name,r=e.password1,n=e.password2,i=e.group,l=e.handleInputChangeRegister,o=e.handleGetRegisterUser;return Object(V.jsx)("div",{className:"wrap-main",children:Object(V.jsx)("div",{className:"auth_main",children:Object(V.jsxs)("div",{className:"form_wrapper",children:[Object(V.jsxs)("div",{className:"form_container",children:[Object(V.jsx)("div",{className:"title_container",children:Object(V.jsx)("h2",{children:"Registro De Cuenta"})}),Object(V.jsx)("div",{className:"row clearfix",children:Object(V.jsx)("div",{className:"",children:Object(V.jsxs)("form",{children:[Object(V.jsxs)("div",{className:"input_field",children:[" ",Object(V.jsx)("span",{children:Object(V.jsx)("i",{className:"fa fa-user"})}),Object(V.jsx)("input",{type:"text",name:"username",value:t,onChange:l,placeholder:"Nombre De Usuario",required:!0})]}),Object(V.jsxs)("div",{className:"input_field",children:[Object(V.jsx)("span",{children:Object(V.jsx)("i",{className:"fas fa-envelope",style:{display:"flex",flexDirection:"column",marginTop:"35px"}})}),Object(V.jsx)("input",{type:"email",name:"email",value:a,onChange:l,placeholder:"Email",required:!0})]}),Object(V.jsxs)("div",{className:"input_field",children:[" ",Object(V.jsx)("span",{children:Object(V.jsx)("i",{"aria-hidden":"true",className:"fa fa-lock",style:{display:"flex",flexDirection:"column",marginTop:"70px"}})}),Object(V.jsx)("input",{type:"password",name:"password1",value:r,onChange:l,placeholder:"Contrase\xf1a",required:!0})]}),Object(V.jsxs)("div",{className:"input_field",children:[" ",Object(V.jsx)("span",{children:Object(V.jsx)("i",{"aria-hidden":"true",className:"fa fa-lock",style:{display:"flex",flexDirection:"column",marginTop:"105px"}})}),Object(V.jsx)("input",{type:"password",name:"password2",value:n,onChange:l,placeholder:"Repetetir Contrase\xf1a",required:!0})]}),Object(V.jsxs)("div",{className:"row clearfix",children:[Object(V.jsx)("div",{className:"col_half",children:Object(V.jsxs)("div",{className:"input_field",children:[" ",Object(V.jsx)("span",{children:Object(V.jsx)("i",{"aria-hidden":"true",className:"fa fa-user",style:{display:"flex",flexDirection:"column",marginTop:"140px"}})}),Object(V.jsx)("input",{type:"text",name:"first_name",value:s,onChange:l,placeholder:"Nombre Completo",required:!0})]})}),Object(V.jsx)("div",{className:"col_half",children:Object(V.jsxs)("div",{className:"input_field",children:[" ",Object(V.jsx)("span",{children:Object(V.jsx)("i",{"aria-hidden":"true",className:"fa fa-user",style:{display:"flex",flexDirection:"column",marginTop:"175px"}})}),Object(V.jsx)("input",{type:"text",name:"last_name",value:c,onChange:l,placeholder:"Apellidos Completos",required:!0})]})})]}),Object(V.jsxs)("div",{className:"input_field radio_option",children:[Object(V.jsx)("input",{type:"radio",name:"group",id:"rd1",onChange:l,value:"Administrador"}),Object(V.jsx)("label",{htmlFor:"rd1",children:"Administrador"}),Object(V.jsx)("input",{type:"radio",name:"group",id:"rd2",onChange:l,value:"Suscriptor"}),Object(V.jsx)("label",{htmlFor:"rd2",children:"Suscriptor"})]}),Object(V.jsx)("input",{className:"button",type:"submit",value:"Register",onClick:function(e){return o(t,a,s,c,r,n,i,e)}})]})})})]}),Object(V.jsxs)("p",{className:"credit",children:["\xbf Ya tienes una cuenta creada ?",Object(V.jsx)(_.b,{to:"/auth/login",children:"Ingresa a nuestra p\xe1gina desde aqui "})]})]})})})},H=function(){return Object(V.jsx)("div",{children:Object(V.jsxs)(w.d,{children:[Object(V.jsx)(w.b,{exact:!0,path:"/auth/login",component:Y}),Object(V.jsx)(w.b,{exact:!0,path:"/auth/register",component:z}),Object(V.jsx)(w.a,{to:"/auth/login"})]})})},K=a.p+"static/media/logo-ecomerce.32b269d1.png",W=D().getProductList,Z=function(){return function(){var e=Object(G.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W();case 3:a=e.sent,t({type:m,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},$=function(e,t,a,s,c){return function(r){r({type:b,payload:{id:e,foto:t,nombre:a,descripcion:s,total:c,amount:1,subtotal:c}})}},ee=function(e){return function(t){t({type:h,payload:e})}},te=function(e){return function(t){t({type:O,payload:e})}},ae=function(e){return function(t){t({type:x,id:e})}},se=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.product})),a=t.list,c=t.basketProducts,r={actGetProductList:Z,actGetAddBasketProduct:$,actGetPlusAmount:ee,actGetLessAmount:te,actGetDeleteBasketProduct:ae},n=r.actGetProductList,l=r.actGetAddBasketProduct,o=r.actGetPlusAmount,d=r.actGetLessAmount,u=r.actGetDeleteBasketProduct;Object(s.useEffect)((function(){0===a.length&&e(n())}),[]);return{list:a,basketProducts:c,handleGetAddBasketProduct:function(t,a,s,r,n,i){i.preventDefault(),c.some((function(e){return e.id===t}))?I.a.fire("Falla al a\xf1adir al carrito","El producto ya esta en el carrito, si quieres a\xf1adir mas dirigete a la cesta para  aumentar la cantidad ","error"):e(l(t,a,s,r,n))},handleGetDeleteBasketProduct:function(t){e(u(t))},handleAdd:function(t){e(o(t))},handleLess:function(t){e(d(t))}}},ce=function(){var e=Q().handleClearRegisterUser,t=se().basketProducts;return Object(V.jsxs)("div",{className:"header",children:[Object(V.jsx)(_.b,{to:"/product/list",children:Object(V.jsx)("img",{className:"header__logo",src:K,alt:"ecomerce-logo"})}),Object(V.jsxs)("div",{className:"header__search",children:[Object(V.jsx)("input",{type:"text",className:"header__searchInput"}),Object(V.jsx)("i",{className:"fas fa-search header__searchIcon"})]}),Object(V.jsxs)("div",{className:"header__nav",children:[Object(V.jsx)(_.b,{to:"/product/basket",children:Object(V.jsxs)("div",{className:"header__optionBasket",children:[Object(V.jsx)("i",{className:"fas fa-shopping-basket"}),Object(V.jsx)("span",{className:"header__optionLineTwo header__basketCount",children:t.length})]})}),Object(V.jsx)("div",{onClick:e,className:"header__option",children:"Salir"})]})]})},re=function(){var e=se(),t=e.list,a=e.handleGetAddBasketProduct;return Object(V.jsxs)("div",{children:[Object(V.jsx)("div",{className:"container text-center",children:Object(V.jsx)("h1",{children:"Productos"})}),t.map((function(e,t){return Object(V.jsx)("div",{className:"shell",children:Object(V.jsx)("div",{className:"container",children:Object(V.jsx)("div",{className:"row",children:Object(V.jsx)("div",{className:"col-md-3",children:Object(V.jsxs)("div",{className:"wsk-cp-product",children:[Object(V.jsx)("div",{className:"wsk-cp-img",children:Object(V.jsx)("img",{src:e.referencia.foto,alt:e.nombre,className:"img-responsive"})}),Object(V.jsxs)("div",{className:"wsk-cp-text",children:[Object(V.jsx)("div",{className:"category",children:Object(V.jsx)("span",{children:e.nombre})}),Object(V.jsx)("div",{className:"description-prod",children:Object(V.jsx)("p",{children:e.referencia.descripcion})}),Object(V.jsxs)("div",{className:"card-footer",children:[Object(V.jsx)("div",{className:"wcf-left",children:Object(V.jsx)("span",{className:"price",children:e.total})}),Object(V.jsx)("div",{className:"wcf-right",onClick:function(t){return a(e.id,e.referencia.foto,e.nombre,e.referencia.descripcion,e.total,t)},children:Object(V.jsx)("a",{href:"/product/list",className:"buy-btn",children:Object(V.jsx)("i",{className:"fas fa-shopping-basket"})})})]})]})]})})})})},t)}))]})},ne=function(){var e=se(),t=e.basketProducts,a=e.handleGetDeleteBasketProduct,s=e.handleAdd,c=e.handleLess;return Object(V.jsxs)("div",{className:"Cart-Container",children:[Object(V.jsx)("div",{className:"basket",children:t.map((function(e,t){return Object(V.jsxs)("div",{className:"basket-product",children:[Object(V.jsxs)("div",{className:"item",children:[Object(V.jsx)("div",{className:"product-image",children:Object(V.jsx)("img",{src:e.foto,alt:e.nombre,className:"product-frame"})}),Object(V.jsxs)("div",{className:"product-details",children:[Object(V.jsx)("h1",{children:e.descripcion}),Object(V.jsx)("p",{children:Object(V.jsx)("strong",{children:e.nombre})})]})]}),Object(V.jsx)("div",{className:"price",children:e.total}),Object(V.jsxs)("div",{className:"quantity",children:[Object(V.jsx)("button",{className:"less",onClick:function(){1!==e.amount&&c(e.id)},children:"-"}),Object(V.jsxs)("h2",{children:[" ",e.amount," "]}),Object(V.jsx)("button",{className:"plus",onClick:function(){return s(e.id)},children:"+"})]}),Object(V.jsx)("div",{className:"subtotal",children:e.amount*e.total}),Object(V.jsx)("div",{className:"remove",children:Object(V.jsx)("button",{onClick:function(){return a(e.id)},children:"Borrar"})})]},t)}))}),Object(V.jsx)("aside",{children:Object(V.jsxs)("div",{className:"summary",children:[Object(V.jsxs)("div",{className:"summary-total-items",children:[Object(V.jsx)("span",{className:"total-items"})," Items in your Bag"]}),Object(V.jsxs)("div",{className:"summary-total",children:[Object(V.jsx)("div",{className:"total-title",children:"Total"}),Object(V.jsx)("div",{className:"total-value final-value",id:"basket-total",children:t.map((function(e){return e.amount*e.total})).reduce((function(e,t){return e+t}),0)})]}),Object(V.jsx)("div",{className:"summary-checkout",children:Object(V.jsx)("button",{className:"checkout-cta",children:"Ir a Pago seguro"})})]})})]})},ie=function(){return Object(V.jsxs)("div",{children:[Object(V.jsx)(ce,{}),Object(V.jsxs)(w.d,{children:[Object(V.jsx)(w.b,{exact:!0,path:"/product/list",component:re}),Object(V.jsx)(w.b,{exact:!0,path:"/product/basket",component:ne}),Object(V.jsx)(w.a,{to:"/auth/login"})]})]})},le=function(){return Object(V.jsx)(_.a,{children:Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(w.d,{children:[Object(V.jsx)(w.b,{path:"/auth",component:H}),Object(V.jsx)(w.b,{path:"/product",component:ie}),Object(V.jsx)(w.a,{to:"/auth/login"})]})})})};a(87);var oe=function(){return Object(V.jsx)(i.a,{store:k,children:Object(V.jsx)(le,{})})};n.a.render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(oe,{})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.b36259a1.chunk.js.map